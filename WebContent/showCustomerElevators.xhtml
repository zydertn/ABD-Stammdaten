<?xml version="1.0"?>

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:ace="http://www.icefaces.org/icefaces/components"
	xmlns:ice="http://www.icesoft.com/icefaces/component"
	xmlns:icecore="http://www.icefaces.org/icefaces/core"
	xmlns:ui="http://java.sun.com/jsf/facelets">

<h:head>
	<title>ABD Aufzugs-und Störugsverwaltung</title>
	<link rel="stylesheet" type="text/css"
		href="./xmlhttp/css/rime/rime.css" />
</h:head>
<h:body styleClass="ice-skin-rime" style="background-color:#D8D8D8">
	<h:form>
			<style type="text/css">
                /* Important required because row */
                .ui-datatable-odd {
                    background-color:lightgray !important;
                    background-position-y: -1400px; /* IE7 hack */
                }
            </style>
	
		<!-- ui:include src="CustomerTable.xhtml"></ui:include-->
		<ui:include src="upperMenu.xhtml"></ui:include>

		<p>
			<h:panelGrid columns="2">
				<ice:outputText style="font-weight:bolder; margin-right:15px"
					value="Alle Aufzüge anzeigen" />
				<ice:outputText escape="false" style="color: red"
					value="#{actionController.requestMessage}" />
			</h:panelGrid>
		</p>

		<h:panelGrid columns="2">
			<h:panelGrid bgcolor="#E0E6F8" cellspacing="1" width="1200">
				<ice:outputText style="font-weight:bold" value="Kundendaten:" />

				<h:panelGrid columns="3">
					<!-- h:outputText value="Beziehung" />
					<h:selectOneMenu value="#{customerController.relation}">
						<f:selectItems value="#{actionController.model.relationList}" />
					</h:selectOneMenu>
					<h:outputText /-->

					<ice:outputText value="Kundennummer:" />
					<ice:inputText size="12" maxlength="15"
						value="#{customerController.customer.customernumber}" />
					<ice:commandButton value="Suchen"
						actionListener="#{customerController.searchCustomerElevators}" />

				</h:panelGrid>
			</h:panelGrid>
		</h:panelGrid>

		<h:panelGrid columns="2">
			<h:panelGrid bgcolor="#E0E6F8" cellspacing="1" width="1200">
				<ice:outputText style="font-weight:bold" value="Karten:" />
				<h:panelGrid>
					<ace:dataTable 	id="elevatorTable" 
									value="#{customerController.elevatorList}" 
									var="elevator" 
									paginator="true"
									paginatorPosition="bottom"
									rows="25">
						<ace:column id="hersteller" headerText="Hersteller" sortBy="#{elevator.manufacturer}">
							<ice:outputText value="#{elevator.manufacturer}"/>
						</ace:column>

						<ace:column id="machineNumber" headerText="Fabriknummer">
							<ice:outputText value="#{elevator.machineNumber}"/>
						</ace:column>

						<ace:column id="installationAddress" headerText="Installationsadresse">
							<ice:outputText value="#{elevator.installationAddress.addressString}"/>							
						</ace:column>

						<ace:column id="brand" headerText="Aufzugstyp">
							<ice:outputText value="#{elevator.brand}" />							
						</ace:column>

						<ace:column id="customer" headerText="Kunde" sortBy="#{elevator.customer.name}">
							<ice:outputText value="#{elevator.customer.name}" />							
						</ace:column>

						<ace:column id="technique" headerText="Aufzugsart">
							<ice:outputText value="#{elevator.technique}" />							
						</ace:column>

						<ace:column id="machineRoom" headerText="Maschinenraum">
							<ice:outputText value="#{elevator.equippedWithMachineRoom}" />							
						</ace:column>

						<ace:column id="typeOfBuilding" headerText="Gebäudetyp">
							<ice:outputText value="#{elevator.typeOfBuilding}" />							
						</ace:column>

						<ace:column id="access" headerText="Zugang">
							<ice:outputText value="#{elevator.accessToBuilding}" />							
						</ace:column>

						<ace:column id="elStatus" headerText="Status" sortBy="#{elevator.status}">
							<ice:outputText value="#{elevator.status}" />							
						</ace:column>

						<ace:column id="contact" headerText="Kontakt">
							<ice:outputText value="#{elevator.contactPerson.nameString}" />							
						</ace:column>
					</ace:dataTable>
				</h:panelGrid>
			</h:panelGrid>
		</h:panelGrid>

	</h:form>
</h:body>
</html>